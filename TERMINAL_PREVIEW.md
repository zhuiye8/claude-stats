# 🎨 Claude Stats 美化终端输出预览

## ✨ 主要美化特性

### 🌈 **丰富的颜色支持**
- **智能颜色检测**: 自动检测终端是否支持颜色
- **跨平台兼容**: Windows Terminal、PowerShell、macOS Terminal、Linux终端
- **语义化颜色**: 成功=绿色、警告=黄色、错误=红色

### 📊 **可视化进度条**
- Token使用量百分比可视化
- 彩色进度条显示各类token占比
- 动态颜色表示不同token类型

### 🎯 **分层次信息显示**
- 图标化的章节标题
- 渐变色装饰分隔符
- 醒目的数据高亮

## 🖥️ 输出示例

### 基础统计输出
```
🎯 Claude Code 使用统计报告
生成时间: 2025-07-16 15:30:25
████████████████████████████████████████████████████████████████████████████████

📊 基本信息
   检测模式: 订阅模式 (按请求限制)
   总会话数: 8
   总消息数: 156
   分析时段: 2025-07-15 01:59 至 2025-07-16 01:15
   持续时间: 23h16m

📈 Token 使用统计
┌────────────────┬──────────┬────────┬────────────────────────────────┐
│ 类型           │ 数量     │ 百分比  │ 可视化                           │
├────────────────┼──────────┼────────┼────────────────────────────────┤
│ 输入Token      │ 21,543   │ 1.5%   │ [█░░░░░░░░░░░░░░░░░░░] 1.5%      │
│ 输出Token      │ 1,381    │ 0.1%   │ [░░░░░░░░░░░░░░░░░░░░] 0.1%      │
│ 缓存创建Token  │ 6,630    │ 0.5%   │ [░░░░░░░░░░░░░░░░░░░░] 0.5%      │
│ 缓存读取Token  │ 1,346,759│ 97.9%  │ [████████████████████] 97.9%    │
├────────────────┼──────────┼────────┼────────────────────────────────┤
│ 总计           │ 1,376,313│ 100.0% │ 📊                             │
└────────────────┴──────────┴────────┴────────────────────────────────┘

🤖 按模型统计
┌─────────────────────────┬────────┬────────┬────────┬──────────┬───────────┐
│ 模型                    │ 输入   │ 输出   │ 缓存   │ 总计     │ 成本(USD) │
├─────────────────────────┼────────┼────────┼────────┼──────────┼───────────┤
│ claude-sonnet-4-20250514│ 13     │ 1,380  │ 953,389│ 954,782  │ $0.5695   │
│ claude-3-5-haiku-20241022│ 8     │ 1      │ 0      │ 9        │ $0.0001   │
└─────────────────────────┴────────┴────────┴────────┴──────────┴───────────┘

💰 成本分析
   (基于订阅模式的API等价成本估算)
   输入成本:     $0.0646
   输出成本:     $0.0207
   缓存创建成本: $0.0199
   缓存读取成本: $0.5050
   总成本:       $0.6102

🎯 订阅计划建议
   建议计划: Pro ($20)
   预估节省: $19.39/月
```

### 颜色映射说明

| 元素 | 颜色 | 含义 |
|------|------|------|
| 🎯 标题 | **亮蓝色+粗体** | 主要标题 |
| 📊 章节 | **亮蓝色** | 章节标题 |
| 数值 | **亮黄色** | 重要数据 |
| 订阅模式 | **亮紫色** | 模式标识 |
| API模式 | **绿色** | 模式标识 |
| 成本低(<$5) | **亮绿色** | 安全范围 |
| 成本中($5-20) | **亮黄色** | 注意范围 |
| 成本高(>$20) | **亮红色** | 警告范围 |
| 时间信息 | **青色** | 时间数据 |
| 进度条填充 | **亮绿色** | 已使用部分 |
| 进度条空白 | **暗灰色** | 未使用部分 |

### 特殊效果

1. **渐变分隔符**: 使用多种颜色创建彩虹效果的装饰线
2. **进度条**: 实时显示各类token的使用比例
3. **智能高亮**: 根据数值大小自动选择颜色
4. **图标增强**: 每个章节都有相应的emoji图标

### 命令行选项

```bash
# 启用颜色 (默认)
claude-stats analyze

# 禁用颜色输出 (适合日志文件)
claude-stats analyze --no-color

# 详细模式 (更多图表和统计)
claude-stats analyze --details

# 组合使用
claude-stats analyze --details --no-color --format table
```

### 兼容性

✅ **完全支持颜色的终端**:
- Windows Terminal
- PowerShell 7+
- macOS Terminal/iTerm2
- Linux标准终端
- VSCode集成终端

⚠️ **部分支持或回退的终端**:
- Windows CMD (旧版) - 自动禁用颜色
- 某些CI/CD环境 - 可用`--no-color`选项

🎨 **输出效果**:
- 彩色终端: 完整的颜色、进度条、图标效果
- 单色终端: 保留所有信息，移除颜色代码
- 文件输出: 自动禁用颜色，确保兼容性 